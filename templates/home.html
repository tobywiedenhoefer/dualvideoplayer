<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Dual Youtube Video Player</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes">
    </head>
    <body>
        <p id="success"></p>
        <input type="text" id="videoURL" value="Video URL">
        <button id="loadVideos">Load</button>
        <div id="firstPlayer">Please insert a URL.</div>

        <script>
            const button = document.getElementById('loadVideos');
            var player;
            var tag = document.createElement('script')
            tag.src = "https://www.youtube.com/iframe_api"
            var videoOneID = ""

            function validURL(ytURL) {
                if(ytURL.indexOf("youtube.com/watch?v=") >= 0 && ytURL.split("watch?v=")[1].length > 1) {
                    return true
                };
                return false
            };

            function getVideoID(ytURL) {
                var x = ytURL.split("watch?v=")[1];
                return x
            };
            
            function onYouTubeIframeAPIReady() {
                player = new YT.Player('player', {
                        height: '390',
                        width : '640',
                        videoId : videoOneID
                    });
            };

            function workWithURL() {
                var url = document.getElementById("videoURL").value;
                if(!validURL(url)) {
                    document.getElementById("success").innerHTML = "Not a valid URL. Please try again.";
                    return;
                };

                var firstScriptTag = document.getElementsByTagName('script')[0]
                firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

                videoOneID = getVideoID(url)

                onYouTubeIframeAPIReady(url);
            };

            button.addEventListener('click', workWithURL)
        </script>
    </body>
</html>